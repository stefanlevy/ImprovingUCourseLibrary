block variables
doctype html
html(lang="en")
    include ../includes/head
    body(data-bind="css: { loaded: user, error: status() == 'Error', saving: status() == 'Saving...' }")
        nav.navbar.navbar-inverse.navbar-fixed-top
            .container
                .navbar-header
                    button.navbar-toggle.collapsed(type="button", data-toggle="collapse", data-target="#navbar", aria-expanded="false", aria-controls="navbar")
                        span.sr-only Toggle navigation
                        span.icon-bar
                        span.icon-bar
                        span.icon-bar
                    a.navbar-brand(href="/") ImprovingU
                #navbar.collapse.navbar-collapse
                    ul.nav.navbar-nav
                        li.nav-item
                            a.nav-link(href="/ideas#Calgary", data-bind="attr: { href: '/ideas#' + office() }") Ideas
                        li.nav-item
                            a.nav-link(href="/courses#Calgary", data-bind="attr: { href: '/courses#' + office() }") Registration
                        li.nav-item
                            a.nav-link(href="/calendar#Calgary", data-bind="attr: { href: '/calendar#' + office() }") Calendar
                    ul.nav.navbar-nav.navbar-right
                        li
                            a(href="#", data-bind="text: status, click: showError") Saving...
                        li.dropdown
                            a.dropdown-toggle(href="#", data-toggle="dropdown", role="button")
                                span(data-bind="text: office() || 'Select office'")
                                span.caret
                            ul.dropdown-menu(data-bind="foreach: offices")
                                li(data-bind="css: { active: $parent.office() === $data }")
                                    a(data-bind="attr: { href: '#' + $data }, text: $data")
                        li
                            a(href="#", data-bind="text: displayName, click: showError")
        .container
            block content

        include ../includes/scripts
        block scripts
